# generated by gen-jobs.sh, do not edit manually

presubmits:
  kubernetes-csi/csi-lib-utils:
  - name: pull-kubernetes-csi-csi-lib-utils
    always_run: true
    decorate: true
    skip_report: false
    skip_branches: ["^(release-0.1|release-0.2)$"]
    labels:
      preset-service-account: "true"
      preset-dind-enabled: "true"
      preset-kind-volume-mounts: "true"
    spec:
      containers:
      # We need this image because it has Docker in Docker and go.
      - image: gcr.io/k8s-testimages/kubekins-e2e:v20190329-811f7954b-master
        command:
        - runner.sh
        args:
        - ./.prow.sh
        # docker-in-docker needs privileged mode
        securityContext:
          privileged: true
        resources:
          requests:
            cpu: 2000m
  - name: pull-sig-storage-csi-lib-utils-stable
    always_run: true
    decorate: true
    skip_report: false
    spec:
      containers:
      # This image was chosen over the more often used kubekins-e2e because
      # it is smaller and has everything we need (basically just a Go environment).
      - image: gcr.io/k8s-testimages/gcloud-in-go:v20180927-6b4facbe6
        command:
        - make
        args:
        - -k # report as many failures as possible (if any) before finally failing
        - all # build...
        - test # ... and test
